<label class="d-flex flex-column" *transloco="let t" [class.compact-form-field]="isCompact">
  <span *ngIf="label && legacyMode" class="czls-title">{{ label }}</span>
  <mat-form-field [class.legacy-appearance]="legacyMode">
    <mat-label *ngIf="label && !legacyMode">{{ label }}</mat-label>
    <mat-select [formControl]="embeddedControl" [placeholder]="placeholder">
      <mat-option *ngIf="canBeDiscarded">{{ t('global.none') }}</mat-option>
      <mat-option
        *ngFor="let option of options | selectOptionsSort: sortType"
        [value]="option.value"
        [disabled]="option.disabled"
        [matTooltip]="option.label | czLangString"
        [matTooltipDisabled]="isString(option.label)"
      >
        <ng-container [ngTemplateOutlet]="template || defaultTemplate" [ngTemplateOutletContext]="getContext(option)"></ng-container>
      </mat-option>
    </mat-select>
    <mat-hint *ngIf="hint">{{ hint }}</mat-hint>
  </mat-form-field>
  <ng-template #defaultTemplate let-option>
    <ng-container *ngIf="isString(option.label); else langStringTemplate">{{ t(option.label) }}</ng-container>
    <ng-template #langStringTemplate>{{ option.label | czLangString }} </ng-template>
  </ng-template>
</label>
